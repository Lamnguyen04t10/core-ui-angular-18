<!-- Values Section -->
<div class="container mt-3 mb-3">
  <rfr-card fill="outline" class="text-left rfr-card_border">
    <div class="text-center">
      <rfr-header-text>QR Pay</rfr-header-text>
      <p>Please transfer the payment to our bank account using the provided QR code. After completing the transaction,
         kindly upload the proof of payment through our system. Once your payment is confirmed, we will notify you via email.<br></p>
    </div><!-- End Section Title -->
  
    <div class="p-4">
      <div class="row gy-4">
        <div class="col-lg-12" data-aos="fade-up" data-aos-delay="100">
          <div>
            <div class="row">
                <div class="col-lg-5 col-md-12">
                    <img [src]="'assets/byte_array_qr.jpg'" class="img-fluid" alt="">
                </div>
                <div class="col-lg-7 col-md-12 receipt" *ngIf="trxn">
                  <div class="payment-summary">
                    <rfr-header-text>Payment details</rfr-header-text>
                    <div class="summary-row">
                      <div>Buyer Name</div>
                      <div class="price-details">{{trxn.payerName}}</div>
                    </div>
                    <div class="summary-row">
                      <div>Buyer Email</div>
                      <div class="price-details">{{trxn.payerEmail}}</div>
                    </div>
                    <div class="summary-row">
                      <div>Payment Reference</div>
                      <div class="price-details">{{trxn.referenceNumber}}</div>
                    </div>
                    <div class="summary-row">
                      <div>Item Name</div>
                      <div class="price-details">{{trxn.name}}</div>
                    </div>
                    <div class="summary-row">
                      <div>Total amount</div>
                      <div class="price-details">{{trxn.currencyCode}} {{trxn.amount | currency:' ':'symbol': '1.2-2'}}</div>
                    </div>
                  </div>
                    <form (submit)="onSubmit()">
                      <div class="col-md-12">
                          <rfr-header-text for="fileInput" class="form-label font-semibold">Upload a proof of payment</rfr-header-text>
                          <div class="text-center">
                            <input type="file" #fileInput style="display: none;" class="form-control" (change)="onFileSelected($event)" accept=".pdf, image/*" />
                            <div class="p-4 justify-center align-center" style="border: 2px dashed lightgray;">
                              <label>Only accept Pdf or photo format.</label>
                              <div>
                                <rfr-button type="button" (click)="fileInput.click()" class="">Upload</rfr-button>
                              </div>
                            </div>
                          </div>
                      </div>
                        
                        <!-- File Info -->
                      <div *ngIf="selectedFile" class="alert alert-info">
                          <strong>File Selected:</strong> {{ selectedFile?.name ?? '' }}
                      </div>
                        
                        <!-- Submit Button -->
                      <div class="text-center p-4">
                          <rfr-button type="submit" [disabled]="!selectedFile ? 'true' : 'false'" [color]="'success'">
                              Submit
                          </rfr-button>
                      </div>
                    </form>
                </div>
            </div>
            
          </div>
        </div><!-- End Card Item -->
      </div>
    </div>
  </rfr-card>
</div>